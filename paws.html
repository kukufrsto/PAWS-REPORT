<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAWS Animal Cruelty Reporting System</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Custom Properties for Design System */
        :root {
            /* Color Palette */
            --primary-50: #f0fdf4;
            --primary-100: #dcfce7;
            --primary-200: #bbf7d0;
            --primary-300: #86efac;
            --primary-400: #4ade80;
            --primary-500: #22c55e;
            --primary-600: #16a34a;
            --primary-700: #15803d;
            --primary-800: #166534;
            --primary-900: #14532d;
            
            --secondary-50: #f8fafc;
            --secondary-100: #f1f5f9;
            --secondary-200: #e2e8f0;
            --secondary-300: #cbd5e1;
            --secondary-400: #94a3b8;
            --secondary-500: #64748b;
            --secondary-600: #475569;
            --secondary-700: #334155;
            --secondary-800: #1e293b;
            --secondary-900: #0f172a;
            
            --accent-50: #fef7ee;
            --accent-100: #fdedd4;
            --accent-200: #fbd7a5;
            --accent-300: #f8bb6c;
            --accent-400: #f59532;
            --accent-500: #f2740a;
            --accent-600: #e35a05;
            --accent-700: #bc4408;
            --accent-800: #95360e;
            --accent-900: #782f0f;
            
            /* Neutral Colors */
            --white: #ffffff;
            --black: #000000;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            
            /* Status Colors */
            --success-50: #f0fdf4;
            --success-500: #22c55e;
            --success-600: #16a34a;
            --warning-50: #fffbeb;
            --warning-500: #f59e0b;
            --warning-600: #d97706;
            --error-50: #fef2f2;
            --error-500: #ef4444;
            --error-600: #dc2626;
            --info-50: #eff6ff;
            --info-500: #3b82f6;
            --info-600: #2563eb;
            
            /* Typography */
            --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-display: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            
            /* Spacing */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;
            --space-4xl: 6rem;
            
            /* Border Radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-full: 9999px;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
            
            /* Transitions */
            --transition-fast: 150ms ease-in-out;
            --transition-normal: 250ms ease-in-out;
            --transition-slow: 350ms ease-in-out;
            
            /* Layout */
            --container-max-width: 1200px;
            --header-height: 80px;
            --sidebar-width: 280px;
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-primary);
            font-size: 1rem;
            line-height: 1.6;
            color: var(--gray-800);
            background: linear-gradient(135deg, var(--primary-50) 0%, var(--secondary-50) 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-display);
            font-weight: 700;
            line-height: 1.2;
            color: var(--gray-900);
            margin-bottom: var(--space-md);
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary-600), var(--primary-800));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
        }

        h3 {
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 700;
        }

        h4 {
            font-size: clamp(1.25rem, 2.5vw, 1.5rem);
            font-weight: 600;
        }

        p {
            margin-bottom: var(--space-md);
            color: var(--gray-700);
        }

        /* Layout Components */
        .container {
            max-width: var(--container-max-width);
            margin: 0 auto;
            padding: 0 var(--space-lg);
        }

        .main-wrapper {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: var(--space-xl) 0;
        }

        .content-card {
            background: var(--white);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-xl);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            margin: 0 auto;
            max-width: 1000px;
            width: 100%;
        }

        /* Header */
        .header {
            text-align: center;
            padding: var(--space-3xl) var(--space-xl);
            background: linear-gradient(135deg, var(--primary-600), var(--primary-800));
            color: var(--white);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .header h1 {
            position: relative;
            z-index: 1;
            margin-bottom: var(--space-md);
            color: var(--white);
            -webkit-text-fill-color: var(--white);
        }

        .header p {
            position: relative;
            z-index: 1;
            font-size: 1.125rem;
            color: var(--primary-100);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Navigation */
        .nav-container {
            padding: var(--space-xl);
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
        }

        .nav-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-md);
            list-style: none;
            max-width: 600px;
            margin: 0 auto;
        }

        .nav-item {
            width: 100%;
        }

        .nav-link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-lg);
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            color: var(--white);
            text-decoration: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            font-size: 0.875rem;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
            width: 100%;
            height: 48px;
            white-space: nowrap;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left var(--transition-slow);
        }

        .nav-link:hover::before {
            left: 100%;
        }

        .nav-link:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
        }

        .nav-link i {
            font-size: 1rem;
        }

        /* Section Content */
        .section-content {
            display: none;
            padding: var(--space-3xl);
            animation: fadeInUp var(--transition-slow) ease-out;
        }

        .section-content.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hero Section */
        .hero-section {
            text-align: center;
            padding: var(--space-4xl) var(--space-xl);
            background: linear-gradient(135deg, var(--primary-500), var(--primary-700));
            color: var(--white);
            border-radius: var(--radius-2xl);
            margin-bottom: var(--space-3xl);
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="paw-pattern" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M5,5 Q7,3 9,5 Q11,7 9,9 Q7,11 5,9 Q3,7 5,5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23paw-pattern)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-section h2 {
            color: var(--white);
            margin-bottom: var(--space-lg);
        }

        .hero-section p {
            color: var(--primary-100);
            font-size: 1.125rem;
            margin-bottom: var(--space-2xl);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: var(--space-lg);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-xl);
            border-radius: var(--radius-full);
            font-weight: 600;
            text-decoration: none;
            transition: all var(--transition-normal);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: var(--white);
            color: var(--primary-700);
            box-shadow: var(--shadow-lg);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
            background: var(--gray-50);
        }

        .btn-secondary {
            background: transparent;
            color: var(--white);
            border: 2px solid var(--white);
        }

        .btn-secondary:hover {
            background: var(--white);
            color: var(--primary-700);
            transform: translateY(-2px);
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-xl);
            margin: var(--space-3xl) 0;
        }

        .feature-card {
            background: var(--white);
            padding: var(--space-2xl);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            text-align: center;
            transition: all var(--transition-normal);
            border: 1px solid var(--gray-200);
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-lg);
            color: var(--white);
            font-size: 1.5rem;
        }

        .feature-card h4 {
            color: var(--gray-900);
            margin-bottom: var(--space-md);
        }

        .feature-card p {
            color: var(--gray-600);
            font-size: 0.875rem;
        }

        /* Forms */
        .form-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: var(--space-xl);
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: var(--space-sm);
            font-size: 0.875rem;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: var(--space-md);
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-lg);
            font-size: 1rem;
            transition: all var(--transition-normal);
            background: var(--white);
            color: var(--gray-800);
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px var(--primary-100);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-lg);
        }

        .form-submit {
            width: 100%;
            padding: var(--space-lg);
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            color: var(--white);
            border: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            font-size: 1.125rem;
            cursor: pointer;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-md);
        }

        .form-submit:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
        }

        .data-table th {
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            color: var(--white);
            padding: var(--space-lg);
            text-align: left;
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .data-table td {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--gray-200);
            color: var(--gray-700);
        }

        .data-table tr:hover {
            background: var(--gray-50);
        }

        .status-badge {
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .status-received { background: var(--info-50); color: var(--info-600); }
        .status-review { background: var(--warning-50); color: var(--warning-600); }
        .status-resolved { background: var(--success-50); color: var(--success-600); }

        /* Admin Cards */
        .admin-card {
            background: var(--white);
            padding: var(--space-2xl);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--space-xl);
            border: 1px solid var(--gray-200);
        }

        .admin-card-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: var(--space-lg);
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .admin-card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .admin-controls {
            display: flex;
            gap: var(--space-md);
            flex-wrap: wrap;
        }

        .admin-select {
            padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-md);
            background: var(--white);
            color: var(--gray-800);
            font-size: 0.875rem;
        }

        .admin-btn {
            padding: var(--space-sm) var(--space-md);
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            color: var(--white);
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .admin-btn:hover {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
            transform: translateY(-1px);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: var(--space-lg);
        }

        .modal-content {
            background: var(--white);
            padding: var(--space-2xl);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-2xl);
            max-width: 500px;
            width: 100%;
            text-align: center;
            position: relative;
            animation: modalSlideIn var(--transition-normal) ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: var(--space-md);
            right: var(--space-md);
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--gray-400);
            cursor: pointer;
            transition: color var(--transition-normal);
        }

        .modal-close:hover {
            color: var(--gray-600);
        }

        .modal-message {
            font-size: 1.125rem;
            color: var(--gray-800);
            margin-bottom: var(--space-xl);
        }

        .modal-btn {
            padding: var(--space-md) var(--space-xl);
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            color: var(--white);
            border: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .modal-btn:hover {
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
            transform: translateY(-1px);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--gray-100);
            border-radius: var(--radius-full);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: var(--radius-full);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gray-400);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 0 var(--space-md);
            }

            .main-wrapper {
                padding: var(--space-lg) 0;
            }

            .content-card {
                margin: 0 var(--space-md);
                border-radius: var(--radius-xl);
            }

            .header {
                padding: var(--space-2xl) var(--space-lg);
            }

            .nav-container {
                padding: var(--space-lg);
            }

            .nav-list {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-sm);
                max-width: 400px;
            }

            .nav-item {
                width: 100%;
            }

            .section-content {
                padding: var(--space-xl) var(--space-lg);
            }

            .hero-section {
                padding: var(--space-2xl) var(--space-lg);
                margin-bottom: var(--space-2xl);
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: var(--space-lg);
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .admin-card-header {
                flex-direction: column;
                align-items: stretch;
            }

            .admin-controls {
                flex-direction: column;
            }

            .data-table th,
            .data-table td {
                padding: var(--space-md);
                font-size: 0.875rem;
            }
        }

        @media (max-width: 480px) {
            .nav-list {
                grid-template-columns: 1fr;
                max-width: 300px;
            }
            
            .header h1 {
                font-size: 2rem;
            }

            .section-content {
                padding: var(--space-lg) var(--space-md);
            }

            .hero-section {
                padding: var(--space-xl) var(--space-md);
            }

            .btn {
                padding: var(--space-md) var(--space-lg);
                font-size: 0.875rem;
            }

            .feature-card {
                padding: var(--space-xl);
            }

            .admin-card {
                padding: var(--space-lg);
            }
        }

        /* Loading States */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-3xl);
            color: var(--gray-600);
            font-size: 1.125rem;
            font-weight: 500;
            gap: var(--space-md);
        }

        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 3px solid var(--gray-200);
            border-top: 3px solid var(--primary-500);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Empty States */
        .empty-state {
            text-align: center;
            padding: var(--space-3xl);
            color: var(--gray-600);
            font-size: 1.125rem;
            font-weight: 500;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: var(--space-lg);
            opacity: 0.4;
            color: var(--gray-400);
        }

        .empty-state p {
            margin: 0;
            color: var(--gray-600);
        }

        /* Login Prompt */
        .login-prompt {
            text-align: center;
            padding: var(--space-4xl);
            background: linear-gradient(135deg, var(--primary-50), var(--secondary-50));
            border-radius: var(--radius-xl);
            border: 2px dashed var(--primary-300);
        }

        .login-prompt i {
            font-size: 4rem;
            color: var(--primary-500);
            margin-bottom: var(--space-lg);
            opacity: 0.8;
        }

        .login-prompt h3 {
            color: var(--gray-800);
            margin-bottom: var(--space-md);
        }

        .login-prompt p {
            color: var(--gray-600);
            font-size: 1.125rem;
            margin-bottom: var(--space-2xl);
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .login-prompt .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-xl);
            background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
            color: var(--white);
            text-decoration: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-md);
        }

        .login-prompt .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, var(--primary-600), var(--primary-700));
        }

        /* Disabled form styling */
        .form-container.disabled {
            pointer-events: none;
            opacity: 0.5;
        }

        .form-container.disabled .form-input,
        .form-container.disabled .form-select,
        .form-container.disabled .form-textarea,
        .form-container.disabled .form-submit {
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="main-wrapper">
        <div class="container">
            <div class="content-card">
                <!-- Header Section -->
                <header class="header">
                    <h1><i class="fas fa-paw"></i> PAWS Reporting System</h1>
                    <p>Streamlining animal cruelty reports in the Philippines with modern technology and compassionate care</p>
                </header>

                <!-- Navigation -->
                <nav class="nav-container">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#home" class="nav-link">
                                <i class="fas fa-home"></i>
                                <span>Home</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#register" class="nav-link">
                                <i class="fas fa-user-plus"></i>
                                <span>Register</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#login" class="nav-link">
                                <i class="fas fa-sign-in-alt"></i>
                                <span>Login</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#file-report" class="nav-link">
                                <i class="fas fa-file-alt"></i>
                                <span>File Report</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#track-report" class="nav-link">
                                <i class="fas fa-search"></i>
                                <span>Track Report</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#admin-panel" class="nav-link">
                                <i class="fas fa-cog"></i>
                                <span>Admin Panel</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <!-- Homepage Section -->
                <section id="home" class="section-content active">
                    <div class="hero-section">
                        <div class="hero-content">
                            <h2>Report Animal Cruelty, Make a Difference!</h2>
                            <p>Your voice helps protect animals across the Philippines. Together, we can create a safer world for all creatures.</p>
                            <div class="hero-buttons">
                                <a href="#file-report" class="btn btn-primary nav-link">
                                    <i class="fas fa-file-alt"></i>
                                    File a Report Now
                                </a>
                                <a href="#track-report" class="btn btn-secondary nav-link">
                                    <i class="fas fa-search"></i>
                                    Track Your Report
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="text-center" style="margin-bottom: var(--space-3xl);">
                        <h3>About the PAWS Reporting System</h3>
                        <p style="max-width: 800px; margin: 0 auto; font-size: 1.125rem; line-height: 1.7;">
                            This web-based system is designed to streamline the reporting, tracking, and management of animal cruelty cases. 
                            It aims to bridge the gap between concerned citizens, the Philippine Animal Welfare Society (PAWS), and local authorities, 
                            providing a centralized and efficient channel for reporting incidents and ensuring timely action.
                        </p>
                    </div>

                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-edit"></i>
                            </div>
                            <h4>Easy Reporting</h4>
                            <p>Submit detailed reports with optional multimedia evidence through our intuitive interface.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h4>Real-time Tracking</h4>
                            <p>Monitor the status of your submitted cases effortlessly with our real-time tracking system.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h4>Admin Review</h4>
                            <p>Ensuring all reports are verified and escalated appropriately by our dedicated team.</p>
                        </div>
                    </div>
                </section>

                <!-- Register Section -->
                <section id="register" class="section-content">
                    <h2 class="text-center">Create Your Account</h2>
                    <p class="text-center" style="margin-bottom: var(--space-2xl); color: var(--gray-600);">
                        Join our community of animal advocates and help make a difference
                    </p>
                    <div class="form-container">
                        <form id="register-form">
                            <div class="form-group">
                                <label for="reg-full-name" class="form-label">Full Name</label>
                                <input type="text" id="reg-full-name" name="fullName" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="reg-email" class="form-label">Email Address</label>
                                <input type="email" id="reg-email" name="email" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="reg-mobile" class="form-label">Mobile Number</label>
                                <input type="tel" id="reg-mobile" name="mobileNumber" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="reg-password" class="form-label">Password</label>
                                <input type="password" id="reg-password" name="password" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="reg-confirm-password" class="form-label">Confirm Password</label>
                                <input type="password" id="reg-confirm-password" name="confirmPassword" required class="form-input">
                            </div>
                            <button type="submit" class="form-submit">
                                <i class="fas fa-user-plus"></i>
                                Create Account
                            </button>
                        </form>
                    </div>
                </section>

                <!-- Login Section -->
                <section id="login" class="section-content">
                    <h2 class="text-center">Welcome Back</h2>
                    <p class="text-center" style="margin-bottom: var(--space-2xl); color: var(--gray-600);">
                        Sign in to access your account and continue helping animals
                    </p>
                    <div class="form-container">
                        <form id="login-form">
                            <div class="form-group">
                                <label for="login-email" class="form-label">Email Address</label>
                                <input type="email" id="login-email" name="email" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="login-password" class="form-label">Password</label>
                                <input type="password" id="login-password" name="password" required class="form-input">
                            </div>
                            <button type="submit" class="form-submit">
                                <i class="fas fa-sign-in-alt"></i>
                                Sign In
                            </button>
                        </form>
                    </div>
                </section>

                <!-- File Report Section -->
                <section id="file-report" class="section-content">
                    <h2 class="text-center">File New Report</h2>
                    <p class="text-center" style="margin-bottom: var(--space-2xl); color: var(--gray-600);">
                        Help us protect animals by reporting incidents of cruelty or neglect
                    </p>
                    
                    <!-- Login Prompt (shown when not logged in) -->
                    <div id="file-report-login-prompt" class="login-prompt" style="display: none;">
                        <i class="fas fa-lock"></i>
                        <h3>Authentication Required</h3>
                        <p>You need to be logged in to file a report. This helps us ensure the authenticity of reports and allows you to track your submissions.</p>
                        <a href="#login" class="btn nav-link">
                            <i class="fas fa-sign-in-alt"></i>
                            Login to Continue
                        </a>
                    </div>

                    <!-- Report Form (shown when logged in) -->
                    <div id="file-report-form-container" class="form-container">
                        <form id="file-report-form">
                            <div class="form-group">
                                <label for="report-type" class="form-label">Type of Cruelty</label>
                                <select id="report-type" name="crueltyType" required class="form-select">
                                    <option value="">Select a type</option>
                                    <option value="physical-abuse">Physical Abuse</option>
                                    <option value="neglect">Neglect</option>
                                    <option value="abandonment">Abandonment</option>
                                    <option value="hoarding">Hoarding</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="report-location" class="form-label">Location</label>
                                <input type="text" id="report-location" name="location" required class="form-input">
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="report-date" class="form-label">Date of Incident</label>
                                    <input type="date" id="report-date" name="date" required class="form-input">
                                </div>
                                <div class="form-group">
                                    <label for="report-time" class="form-label">Time of Incident</label>
                                    <input type="time" id="report-time" name="time" required class="form-input">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="report-description" class="form-label">Description</label>
                                <textarea id="report-description" name="description" rows="5" required class="form-textarea"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="report-evidence" class="form-label">Image/Video Evidence (Optional)</label>
                                <input type="file" id="report-evidence" name="evidence" accept="image/*,video/*" multiple class="form-input">
                            </div>
                            <button type="submit" class="form-submit">
                                <i class="fas fa-paper-plane"></i>
                                Submit Report
                            </button>
                        </form>
                    </div>
                </section>

                <!-- Track Report Status Section -->
                <section id="track-report" class="section-content">
                    <h2 class="text-center">Track Report Status</h2>
                    <p class="text-center" style="margin-bottom: var(--space-2xl); color: var(--gray-600);">
                        Monitor the progress of your submitted reports
                    </p>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Report ID</th>
                                    <th>Type</th>
                                    <th>Location</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="user-reports-table-body">
                                <tr>
                                    <td colspan="5" class="empty-state">
                                        <i class="fas fa-search"></i>
                                        <p>No reports found or please log in.</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Admin Review Panel Section -->
                <section id="admin-panel" class="section-content">
                    <h2 class="text-center">Admin Review Panel</h2>
                    <p class="text-center" style="margin-bottom: var(--space-2xl); color: var(--gray-600);">
                        Review and manage submitted reports
                    </p>
                    <div id="admin-reports-list">
                        <div class="empty-state">
                            <i class="fas fa-cog"></i>
                            <p>No reports found or only accessible by admin.</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Custom Modal for Messages -->
    <div id="message-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <p id="modal-message" class="modal-message"></p>
            <button id="modal-close-btn" class="modal-btn">OK</button>
        </div>
    </div>

    <script type="module">
        // Firebase SDK imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signInWithCustomToken, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, addDoc, setDoc, updateDoc, onSnapshot, collection, query, where, getDocs, orderBy, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables for demo authentication
        const appId = 'paws-reporting-system';
        
        // Demo user storage (in real app, this would be Firebase)
        let demoUsers = [
            {
                email: 'demo@example.com',
                password: 'password123',
                fullName: 'Demo User',
                mobileNumber: '+1234567890',
                userId: 'demo-user-1'
            }
        ];
        
        // Demo reports storage
        let demoReports = [];

        console.log("Demo authentication system ready");


        let app, db, auth, userId = null;
        let isAdmin = false; // Flag to determine if the current user is an admin
        let isUserAuthenticated = false; // Flag to track if user is properly authenticated

        // --- Utility Functions for UI and Modals ---
        function showMessageModal(message) {
            const modal = document.getElementById('message-modal');
            const modalMessage = document.getElementById('modal-message');
            modalMessage.textContent = message;
            modal.style.display = 'flex'; // Use flex to center the modal content
        }

        function hideMessageModal() {
            const modal = document.getElementById('message-modal');
            modal.style.display = 'none';
        }

        // Function to update File Report section based on authentication status
        function updateFileReportSection() {
            const loginPrompt = document.getElementById('file-report-login-prompt');
            const formContainer = document.getElementById('file-report-form-container');
            
            // Check both userId and current authentication status
            const currentUser = auth.currentUser;
            const isAuthenticated = userId && currentUser && !currentUser.isAnonymous;
            
            if (isAuthenticated) {
                // User is logged in - show the form
                loginPrompt.style.display = 'none';
                formContainer.style.display = 'flex';
                formContainer.classList.remove('disabled');
            } else {
                // User is not logged in - show the login prompt
                loginPrompt.style.display = 'block';
                formContainer.style.display = 'none';
                formContainer.classList.add('disabled');
                
                // Clear the form to prevent any data from being submitted
                if (document.getElementById('file-report-form')) {
                    document.getElementById('file-report-form').reset();
                }
            }
        }

        // Close button for modal
        document.querySelector('.modal-close').onclick = hideMessageModal;
        document.getElementById('modal-close-btn').onclick = hideMessageModal;
        window.onclick = function(event) {
            const modal = document.getElementById('message-modal');
            if (event.target == modal) {
                hideMessageModal();
            }
        }

        // --- Demo Authentication System ---
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Demo authentication system initialized");
            
            // Initialize with no user logged in
            userId = null;
            isAdmin = false;
            isUserAuthenticated = false;
            
            // Update UI to show logged out state
            updateFileReportSection();
            document.getElementById('user-reports-table-body').innerHTML = '<tr><td colspan="5" class="empty-state"><i class="fas fa-search"></i><p>No reports found or please log in.</p></td></tr>';
            document.getElementById('admin-reports-list').innerHTML = '<div class="empty-state"><i class="fas fa-cog"></i><p>No reports found or only accessible by admin.</p></div>';
        });

        // --- Navigation Logic ---
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section-content');

        function showSection(id) {
            sections.forEach(section => {
                section.classList.remove('active');
            });
            const activeSection = document.getElementById(id);
            if (activeSection) {
                activeSection.classList.add('active');
            }

            // Trigger data load/refresh when navigating to specific sections
            if (id === 'track-report' && userId) {
                loadUserReports();
            } else if (id === 'admin-panel' && isAdmin) {
                loadAdminReports();
            } else if (id === 'file-report') {
                updateFileReportSection();
            }
        }

        // Handle navigation clicks
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault(); // Prevent default anchor behavior
                const targetId = this.getAttribute('href').substring(1); // Get section ID from href
                showSection(targetId);
                history.pushState(null, '', this.getAttribute('href')); // Update URL hash
            });
        });

        // Handle initial load and back/forward button
        function handleHashChange() {
            const hash = window.location.hash.substring(1);
            if (hash) {
                showSection(hash);
            } else {
                showSection('home'); // Default to home if no hash
            }
        }

        window.addEventListener('hashchange', handleHashChange);

                        // Initial section display based on URL hash or default to home
                handleHashChange();
                
                // Initialize File Report section
                updateFileReportSection();

        // --- User Authentication Functions ---
        document.getElementById('register-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const fullName = document.getElementById('reg-full-name').value.trim();
            const email = document.getElementById('reg-email').value.trim();
            const mobileNumber = document.getElementById('reg-mobile').value.trim();
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            const submitButton = document.querySelector('#register-form .form-submit');
            const originalButtonText = submitButton.innerHTML;
            
            // Enhanced validation
            if (!fullName || !email || !mobileNumber || !password || !confirmPassword) {
                showMessageModal("Please fill in all required fields.");
                return;
            }
            
            if (!email.includes('@')) {
                showMessageModal("Please enter a valid email address.");
                return;
            }
            
            if (password.length < 6) {
                showMessageModal("Password must be at least 6 characters long.");
                return;
            }
            
            if (password !== confirmPassword) {
                showMessageModal("Passwords do not match. Please try again.");
                document.getElementById('reg-confirm-password').value = '';
                document.getElementById('reg-confirm-password').focus();
                return;
            }
            
            // Show loading state
            submitButton.innerHTML = '<div class="loading-spinner" style="width: 16px; height: 16px; border: 2px solid var(--gray-200); border-top: 2px solid var(--white);"></div> Creating Account...';
            submitButton.disabled = true;

            try {
                console.log("Attempting to create account for:", email);
                
                // Check if user already exists
                const existingUser = demoUsers.find(u => u.email === email);
                if (existingUser) {
                    showMessageModal("An account with this email already exists. Please try logging in instead.");
                    return;
                }
                
                // Create new user
                const newUser = {
                    email: email,
                    password: password,
                    fullName: fullName,
                    mobileNumber: mobileNumber,
                    userId: 'user-' + Date.now()
                };
                
                demoUsers.push(newUser);
                console.log("Account created successfully:", newUser);
                
                showMessageModal(`Account created successfully! Welcome ${fullName}! You can now log in with your email and password.`);
                document.getElementById('register-form').reset();
                
                // Small delay before redirect to show success message
                setTimeout(() => {
                    showSection('login');
                }, 2000);
                
            } catch (error) {
                console.error("Error registering user:", error);
                showMessageModal("Registration failed. Please try again.");
                
                // Clear password fields for security
                document.getElementById('reg-password').value = '';
                document.getElementById('reg-confirm-password').value = '';
                
            } finally {
                // Restore button state
                submitButton.innerHTML = originalButtonText;
                submitButton.disabled = false;
            }
        });

        document.getElementById('login-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;
            const submitButton = document.querySelector('#login-form .form-submit');
            const originalButtonText = submitButton.innerHTML;
            
            // Basic validation
            if (!email || !password) {
                showMessageModal("Please enter both email and password.");
                return;
            }
            
            if (!email.includes('@')) {
                showMessageModal("Please enter a valid email address.");
                return;
            }
            
            // Show loading state
            submitButton.innerHTML = '<div class="loading-spinner" style="width: 16px; height: 16px; border: 2px solid var(--gray-200); border-top: 2px solid var(--white);"></div> Signing In...';
            submitButton.disabled = true;

            // Simulate network delay
            await new Promise(resolve => setTimeout(resolve, 1000));

            try {
                console.log("Attempting to sign in with email:", email);
                
                // Demo authentication logic
                const user = demoUsers.find(u => u.email === email && u.password === password);
                
                if (user) {
                    console.log("Sign in successful:", user);
                    
                    // Set authentication state
                    userId = user.userId;
                    isUserAuthenticated = true;
                    isAdmin = false;
                    
                    // Success message
                    showMessageModal(`Welcome back! You have successfully logged in as ${user.email}.`);
                    
                    // Reset form and redirect
                    document.getElementById('login-form').reset();
                    
                    // Update UI
                    updateFileReportSection();
                    loadUserReports();
                    
                    // Small delay before redirect to show success message
                    setTimeout(() => {
                        showSection('home');
                    }, 1500);
                    
                } else {
                    // Check if user exists but password is wrong
                    const userExists = demoUsers.find(u => u.email === email);
                    if (userExists) {
                        showMessageModal("Incorrect password. Please check your password and try again.");
                    } else {
                        showMessageModal("No account found with this email address. Please check your email or register a new account.");
                    }
                    
                    // Clear password field for security
                    document.getElementById('login-password').value = '';
                    document.getElementById('login-password').focus();
                }
                
            } catch (error) {
                console.error("Error logging in user:", error);
                showMessageModal("Login failed. Please try again.");
                
                // Clear password field for security
                document.getElementById('login-password').value = '';
                document.getElementById('login-password').focus();
                
            } finally {
                // Restore button state
                submitButton.innerHTML = originalButtonText;
                submitButton.disabled = false;
            }
        });

        // --- Report Filing Function ---
        document.getElementById('file-report-form').addEventListener('submit', async (e) => {
            e.preventDefault();

            // Check authentication status using our flag
            if (!isUserAuthenticated) {
                showMessageModal("Please log in to file a report.");
                showSection('login');
                return;
            }

            // Double-check with Firebase auth
            const currentUser = auth.currentUser;
            if (!currentUser || currentUser.isAnonymous) {
                showMessageModal("Please log in with a valid account to file a report.");
                showSection('login');
                return;
            }

            const crueltyType = document.getElementById('report-type').value;
            const location = document.getElementById('report-location').value;
            const date = document.getElementById('report-date').value;
            const time = document.getElementById('report-time').value;
            const description = document.getElementById('report-description').value;
            const evidenceFiles = document.getElementById('report-evidence').files; // FileList object

            // In a real application, you would upload files to Firebase Storage first
            // and then store the download URLs in Firestore. For this example, we'll
            // just note that evidence is optional and not handle file uploads.
            let evidenceUrls = [];
            if (evidenceFiles.length > 0) {
                // Placeholder for file upload logic
                console.log("Evidence files selected:", evidenceFiles);
                showMessageModal("File uploads are not implemented in this demo. Report will be submitted without evidence files.");
            }

            try {
                // Create new report
                const newReport = {
                    reportId: 'RPT-' + Date.now(),
                    userId: userId,
                    crueltyType: crueltyType,
                    location: location,
                    date: date,
                    time: time,
                    description: description,
                    evidenceUrls: evidenceUrls,
                    status: 'Received',
                    submittedAt: new Date()
                };
                
                demoReports.push(newReport);
                console.log("Report filed successfully:", newReport);
                
                showMessageModal(`Report filed successfully! Your Report ID is: ${newReport.reportId}`);
                document.getElementById('file-report-form').reset();
                showSection('track-report'); // Redirect to track report
            } catch (error) {
                console.error("Error filing report:", error);
                showMessageModal(`Failed to file report: ${error.message}`);
            }
        });

        // --- Load User Reports ---
        async function loadUserReports() {
            if (!userId) {
                document.getElementById('user-reports-table-body').innerHTML = '<tr><td colspan="5" class="empty-state"><i class="fas fa-search"></i><p>Please log in to view your reports.</p></td></tr>';
                return;
            }

            const reportsTableBody = document.getElementById('user-reports-table-body');
            reportsTableBody.innerHTML = '<tr><td colspan="5" class="loading">Loading reports...<div class="loading-spinner"></div></td></tr>';

            // Simulate network delay
            setTimeout(() => {
                try {
                    // Filter reports for current user
                    const userReports = demoReports.filter(report => report.userId === userId);
                    
                    if (userReports.length === 0) {
                        reportsTableBody.innerHTML = '<tr><td colspan="5" class="empty-state"><i class="fas fa-search"></i><p>No reports submitted yet.</p></td></tr>';
                        return;
                    }

                    reportsTableBody.innerHTML = ''; // Clear existing rows
                    userReports.forEach((report) => {
                        const row = `
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${report.reportId}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">${report.crueltyType}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">${report.location}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">${report.date}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm ${report.status === 'Resolved' ? 'text-green-600' : report.status === 'Under Review' ? 'text-yellow-600' : 'text-blue-600'} font-semibold">${report.status}</td>
                            </tr>
                        `;
                        reportsTableBody.innerHTML += row;
                    });
                } catch (error) {
                    console.error("Error loading user reports:", error);
                    reportsTableBody.innerHTML = `<tr><td colspan="5" class="empty-state"><i class="fas fa-exclamation-circle"></i> Error loading reports: ${error.message}</tr>`;
                }
            }, 1000);
        }

        // --- Load Admin Reports ---
        async function loadAdminReports() {
            if (!isAdmin) {
                document.getElementById('admin-reports-list').innerHTML = '<div class="admin-card"><p class="text-center text-gray-500">Access Denied: Only administrators can view this panel.</p></div>';
                return;
            }

            const adminReportsList = document.getElementById('admin-reports-list');
            adminReportsList.innerHTML = '<div class="loading">Loading admin reports...<div class="loading-spinner"></div></div>';

            try {
                // Fetch all reports for admin view
                const q = query(collection(db, `artifacts/${appId}/public/data/reports`));

                onSnapshot(q, (snapshot) => {
                    if (snapshot.empty) {
                        adminReportsList.innerHTML = '<div class="empty-state"><i class="fas fa-clipboard-list"></i><p>No reports to review.</p></div>';
                        return;
                    }

                    adminReportsList.innerHTML = ''; // Clear existing cards
                    snapshot.forEach((doc) => {
                        const report = doc.data();
                        const reportId = doc.id;
                        const card = `
                            <div class="admin-card">
                                <div class="admin-card-header">
                                    <h3 class="admin-card-title">Report ID: ${reportId}</h3>
                                    <span class="status-badge ${report.status === 'New' ? 'status-received' : report.status === 'Under Review' ? 'status-review' : 'status-resolved'}">${report.status}</span>
                                </div>
                                <p><span class="font-medium">User ID:</span> ${report.userId}</p>
                                <p><span class="font-medium">Type:</span> ${report.crueltyType}</p>
                                <p><span class="font-medium">Location:</span> ${report.location}</p>
                                <p><span class="font-medium">Date/Time:</span> ${report.date}, ${report.time}</p>
                                <p><span class="font-medium">Description:</span> ${report.description}</p>
                                <div class="admin-controls">
                                    <select id="status-select-${reportId}" class="admin-select">
                                        <option value="Received" ${report.status === 'Received' ? 'selected' : ''}>Received</option>
                                        <option value="Under Review" ${report.status === 'Under Review' ? 'selected' : ''}>Under Review</option>
                                        <option value="Forwarded to Authorities" ${report.status === 'Forwarded to Authorities' ? 'selected' : ''}>Forwarded to Authorities</option>
                                        <option value="Resolved" ${report.status === 'Resolved' ? 'selected' : ''}>Resolved</option>
                                        <option value="Flagged/Malicious" ${report.status === 'Flagged/Malicious' ? 'selected' : ''}>Flagged/Malicious</option>
                                    </select>
                                    <button data-report-id="${reportId}" class="admin-btn">
                                        Update Status
                                    </button>
                                </div>
                            </div>
                        `;
                        adminReportsList.innerHTML += card;
                    });

                    // Attach event listeners to update buttons after rendering
                    document.querySelectorAll('.admin-btn').forEach(button => {
                        button.addEventListener('click', async (event) => {
                            const reportId = event.target.dataset.reportId;
                            const newStatus = document.getElementById(`status-select-${reportId}`).value;
                            await updateReportStatus(reportId, newStatus);
                        });
                    });
                });
            } catch (error) {
                console.error("Error loading admin reports:", error);
                adminReportsList.innerHTML = `<div class="admin-card"><p class="text-center text-red-500">Error loading reports: ${error.message}</p></div>`;
            }
        }

        // --- Update Report Status (Admin Function) ---
        async function updateReportStatus(reportId, newStatus) {
            if (!isAdmin) {
                showMessageModal("Permission Denied: You are not authorized to update report status.");
                return;
            }

            try {
                const reportRef = doc(db, `artifacts/${appId}/public/data/reports`, reportId);
                await updateDoc(reportRef, {
                    status: newStatus,
                    updatedAt: new Date()
                });
                showMessageModal(`Report ${reportId} status updated to: ${newStatus}`);
            } catch (error) {
                console.error("Error updating report status:", error);
                showMessageModal(`Failed to update status for report ${reportId}: ${error.message}`);
            }
        }
    </script>
</body>
</html>
